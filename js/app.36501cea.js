(function(e){function t(t){for(var n,c,o=t[0],d=t[1],s=t[2],u=0,m=[];u<o.length;u++)c=o[u],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&m.push(a[c][0]),a[c]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);r&&r(t);while(m.length)m.shift()();return l.push.apply(l,s||[]),i()}function i(){for(var e,t=0;t<l.length;t++){for(var i=l[t],n=!0,o=1;o<i.length;o++){var d=i[o];0!==a[d]&&(n=!1)}n&&(l.splice(t--,1),e=c(c.s=i[0]))}return e}var n={},a={app:0},l=[];function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=e,c.c=n,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(i,n,function(t){return e[t]}.bind(null,n));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/contact_book/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var r=d;l.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("85ec"),a=i.n(n);a.a},"07eb":function(e,t,i){},"14f1":function(e,t,i){},"1aa3":function(e,t,i){},"3f68":function(e,t,i){"use strict";var n=i("a64a"),a=i.n(n);a.a},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"nav"}},[i("router-link",{directives:[{name:"show",rawName:"v-show",value:"Contacts Home"!=this.$route.name,expression:"this.$route.name!='Contacts Home'"}],attrs:{to:"/contact_book/"}},[i("h1",{staticClass:"nav_title"},[e._v("All contacts")])])],1),i("router-view")],1)},l=[],c={name:"App"},o=c,d=(i("034f"),i("2877")),s=Object(d["a"])(o,a,l,!1,null,null,null),r=s.exports,u=i("8c4f"),m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main"},[i("ContactList")],1)},f=[],_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"contact_list"},[e._l(e.contacts,(function(e,t){return[i("ContactItem",{key:t,attrs:{contactFields:e,index:t}})]})),i("ContactAdd")],2)},v=[],h=i("5530"),F=i("2f62"),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"contact_item"},[e._v(" "+e._s()+" "),e._l(e.contactFields.slice(0,2),(function(t,n){return i("div",{key:n},[i("h5",[e._v(e._s(t.nameField)+": ")]),i("h5",[e._v(e._s(t.valueField))])])})),i("div",[i("button",{staticClass:"contact_add_button contact_add_close",on:{click:function(t){t.stopPropagation(),e.confirmDelete=!0}}},[e._v("Delete")]),e._v(" "+e._s()+" "),e.confirmDelete?[i("div",{staticClass:"contact_delete",on:{click:function(e){e.stopPropagation()}}},[i("span",{staticClass:"confirm_delete__text"},[e._v("Delete contact?")]),i("div",{staticClass:"confirm_delete__buttons"},[i("button",{staticClass:"contact_delete__button yes",on:{click:e.removeContact}},[e._v("Yes")]),i("button",{staticClass:"contact_delete__button no",on:{click:function(t){e.confirmDelete=!1}}},[e._v("No")])])])]:e._e(),e._v(" "+e._s()+" ")],2),i("button",{staticClass:"contact_add_button",on:{click:e.detailPage}},[e._v("Detail")])],2)},b=[],C={name:"ContactItem",data:function(){return{confirmDelete:!1}},props:{contactFields:{},index:{}},methods:Object(h["a"])(Object(h["a"])({},Object(F["c"])("contact",["deleteContact"])),{},{detailPage:function(){this.$router.push("/contact_book/"+(this.index+1))},removeContact:function(){this.deleteContact(this.index),this.confirmDelete=!1}})},g=C,k=(i("808c"),Object(d["a"])(g,p,b,!1,null,null,null)),w=k.exports,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"contact_item"},[e.clickedAdd?[i("div",[i("h4",{},[e._v("Name: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.nameValue,expression:"nameValue"}],attrs:{id:"nameValue",type:"text",placeholder:""},domProps:{value:e.nameValue},on:{input:[function(t){t.target.composing||(e.nameValue=t.target.value)},function(t){e.warningField=""}]}})]),"name"===e.warningField||"both"===e.warningField?i("label",{staticClass:"contact_item__warning",attrs:{for:"nameValue"}},[e._v("Field is required")]):e._e(),i("div",[i("h4",{},[e._v("Mobile: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.mobileValue,expression:"mobileValue"}],attrs:{type:"text",name:"mobile",placeholder:""},domProps:{value:e.mobileValue},on:{input:[function(t){t.target.composing||(e.mobileValue=t.target.value)},function(t){e.warningField=""}]}})]),"mobile"===e.warningField||"both"===e.warningField?i("label",{staticClass:"contact_item__warning",attrs:{for:"nameValue"}},[e._v("Field is required")]):e._e(),i("button",{staticClass:"contact_add_button",on:{click:e.addContact}},[e._v("Add contact")]),i("button",{staticClass:"contact_add_button contact_add_close",on:{click:function(t){e.clickedAdd=!e.clickedAdd}}},[e._v("Close")])]:[i("h4",{staticClass:"contact_add",on:{click:function(t){e.clickedAdd=!e.clickedAdd}}},[e._v("Add new contact")])]],2)},x=[],j={name:"ContactAdd",data:function(){return{clickedAdd:!1,nameValue:"",mobileValue:"",warningField:""}},methods:Object(h["a"])(Object(h["a"])({},Object(F["c"])("contact",["createContact"])),{},{addContact:function(){if(!this.mobileValue&&!this.nameValue)return this.warningField="both";if(!this.mobileValue)return this.warningField="mobile";if(!this.nameValue)return this.warningField="both";var e=[{nameField:"Name",valueField:this.nameValue},{nameField:"Mobile",valueField:this.mobileValue}];this.createContact(e),this.nameValue=this.mobileValue="",this.clickedAdd=!this.clickedAdd,this.warningField=""}})},y=j,$=(i("e189"),Object(d["a"])(y,O,x,!1,null,null,null)),V=$.exports,S={name:"ContactList",components:{ContactItem:w,ContactAdd:V},methods:{},computed:Object(h["a"])({},Object(F["b"])("contact",["contacts"]))},N=S,E=(i("3f68"),Object(d["a"])(N,_,v,!1,null,"22b12ac2",null)),A=E.exports,D={name:"ContactHome",components:{ContactList:A}},P=D,M=Object(d["a"])(P,m,f,!1,null,null,null),q=M.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"contact_item"},[e._v(" "+e._s()+" "),e._l(e.contactDetailInfo,(function(e,t){return i("div",{key:t},[i("ContactField",{attrs:{field:e,index:t}})],1)})),e._v(" "+e._s()+" "),e.addFieldClicked?[i("div",{staticClass:"contact_item__field_input"},[i("input",{ref:"nameField",attrs:{id:"nameField",type:"text"},on:{input:function(t){e.warningField=""}}}),"name"===e.warningField||"both"===e.warningField?i("label",{staticClass:"contact_item__warning",attrs:{for:"nameValue"}},[e._v("Field is required")]):e._e(),i("input",{ref:"valueField",attrs:{id:"valueField",type:"text"},on:{input:function(t){e.warningField=""}}}),"value"===e.warningField||"both"===e.warningField?i("label",{staticClass:"contact_item__warning",attrs:{for:"valueField"}},[e._v("Field is required")]):e._e(),i("div",{staticClass:"contact_item__field_buttons"},[i("button",{staticClass:"contact_add_button",on:{click:e.addField}},[e._v("Save")]),i("button",{staticClass:"contact_add_button contact_add_close",on:{click:function(t){e.addFieldClicked=!e.addFieldClicked}}},[e._v("Cancel")])])])]:e._e(),i("button",{directives:[{name:"show",rawName:"v-show",value:!e.addFieldClicked,expression:"!addFieldClicked"}],staticClass:"contact_add_button large",on:{click:function(t){e.addFieldClicked=!e.addFieldClicked}}},[e._v("Add field")]),e._v(" "+e._s()+" "),i("button",{directives:[{name:"show",rawName:"v-show",value:0!=e.operations.length,expression:"operations.length!=0"}],staticClass:"contact_add_button contact_add_close large",on:{click:e.stepBack}},[e._v("Step Back")])],2)},H=[],B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"contact_field"},[[e.isEditClicked?i("div",["Name"==e.field.nameField||"Mobile"==e.field.nameField?i("h5",[e._v(e._s(e.field.nameField))]):i("input",{ref:"nameField",attrs:{id:"nameField",type:"text",placeholder:e.field.nameField,value:""},on:{input:function(t){e.warningField=""}}}),"name"===e.warningField||"both"===e.warningField?i("label",{staticClass:"contact_item__warning",attrs:{for:"nameValue"}},[e._v("Field is required")]):e._e(),i("input",{ref:"valueField",attrs:{id:"valueField",type:"text",placeholder:e.field.valueField,value:""},on:{input:function(t){e.warningField=""}}}),"value"===e.warningField||"both"===e.warningField?i("label",{staticClass:"contact_item__warning",attrs:{for:"valueField"}},[e._v("Field is required")]):e._e()]):i("h5",[e._v(e._s(e.field.nameField)+": "+e._s(e.field.valueField))]),i("div",{staticClass:"contact_field_buttons"},[e.isEditClicked?[i("button",{staticClass:"contact_add_button",on:{click:function(t){return e.changeField(e.index)}}},[e._v("Save")]),i("button",{staticClass:"contact_add_button contact_add_close",on:{click:function(t){e.confirmChanges=!e.confirmChanges,e.warningField=""}}},[e._v("Cancel")])]:[i("button",{staticClass:"contact_add_button",on:{click:function(t){e.isEditClicked=!e.isEditClicked}}},[e._v("Edit")]),i("button",{directives:[{name:"show",rawName:"v-show",value:"Name"!=e.field.nameField&&"Mobile"!=e.field.nameField,expression:"field.nameField != 'Name' && field.nameField != 'Mobile'"}],staticClass:"contact_add_button contact_add_close",on:{click:function(t){e.confirmChanges=!e.confirmChanges}}},[e._v("Delete")])]],2)],e.confirmChanges?i("div",{staticClass:"contact_delete",on:{click:function(e){e.stopPropagation()}}},[e.isEditClicked?i("span",{staticClass:"confirm_delete__text"},[e._v("Discard changes?")]):i("span",{staticClass:"confirm_delete__text"},[e._v("Delete field?")]),i("div",{staticClass:"confirm_delete__buttons"},[e.isEditClicked?i("button",{staticClass:"contact_delete__button yes",on:{click:function(t){e.confirmChanges=!e.confirmChanges,e.isEditClicked=!e.isEditClicked}}},[e._v("Yes")]):i("button",{staticClass:"contact_delete__button yes",on:{click:function(t){return e.deleteField(e.index)}}},[e._v("Yes")]),i("button",{staticClass:"contact_delete__button no",on:{click:function(t){e.confirmChanges=!e.confirmChanges}}},[e._v("No")])])]):e._e()],2)},L=[],T=(i("b64b"),{name:"ContactField",data:function(){return{isEditClicked:!1,confirmChanges:!1,warningField:"",operationStack:[]}},props:{field:{},index:{}},methods:Object(h["a"])(Object(h["a"])({},Object(F["c"])("contact",["deleteFieldContact","changeFieldContact","setOperationStack"])),{},{setOperation:function(e){return{operationName:e,nameField:this.field.nameField,valueField:this.field.valueField,index:this.index,edit:!0}},deleteField:function(e){this.setOperationStack(this.setOperation("delete"));var t={id:this.$route.params.id-1,index:e};this.confirmChanges=!this.confirmChanges,this.deleteFieldContact(t)},changeField:function(e){var t={id:this.$route.params.id-1,index:e,valueField:this.$refs.valueField.value};if(1===Object.keys(this.$refs).length){if(!this.$refs.valueField.value)return this.warningField="value";this.setOperationStack(this.setOperation("edit")),this.changeFieldContact(t)}if(Object.keys(this.$refs).length>1){if(!this.$refs.valueField.value&&!this.$refs.nameField.value)return this.warningField="both";if(!this.$refs.valueField.value)return this.warningField="value";if(!this.$refs.nameField.value)return this.warningField="name";this.setOperationStack(this.setOperation("edit")),t=Object(h["a"])(Object(h["a"])({},t),{},{nameField:this.$refs.nameField.value}),this.changeFieldContact(t)}this.isEditClicked=!this.isEditClicked}})}),Y=T,J=(i("ac20"),Object(d["a"])(Y,B,L,!1,null,"162a9dad",null)),z=J.exports,G={name:"ContactDetail",components:{ContactField:z},data:function(){return{contactDetailInfo:[],operations:[],addFieldClicked:!1,warningField:""}},computed:Object(h["a"])({},Object(F["b"])("contact",["contacts","operationStack"])),mounted:function(){this.contactDetailInfo=this.contacts[this.$route.params.id-1],this.operations=this.operationStack},methods:Object(h["a"])(Object(h["a"])({},Object(F["c"])("contact",["addFieldContact","deleteFieldContact","setOperationStack"])),{},{stepBack:function(){var e=this.operations[this.operations.length-1],t={id:this.$route.params.id-1,nameField:e.nameField,valueField:e.valueField,index:e.index,edit:e.edit};"delete"===e.operationName?this.addFieldContact(t):"add"===e.operationName?this.deleteFieldContact(this.$route.params.id-1):"edit"===e.operationName&&this.addFieldContact(t),this.operations.pop()},addField:function(){if(!this.$refs.valueField.value&&!this.$refs.nameField.value)return this.warningField="both";if(!this.$refs.valueField.value)return this.warningField="value";if(!this.$refs.nameField.value)return this.warningField="name";this.nameField=this.$refs.nameField.value,this.valueField=this.$refs.valueField.value;var e={id:this.$route.params.id-1,nameField:this.nameField,valueField:this.valueField};this.addFieldClicked=!this.addFieldClicked,this.setOperationStack({operationName:"add"}),this.addFieldContact(e)}})},K=G,Q=(i("7717"),Object(d["a"])(K,I,H,!1,null,"446edbc0",null)),R=Q.exports;n["a"].use(u["a"]);var U=new u["a"]({mode:"history",routes:[{path:"/contact_book/",name:"Contacts Home",component:q},{path:"/contact_book/:id",name:"Contact Detail",component:R}]}),W=(i("a434"),{namespaced:!0,state:{contacts:[[{nameField:"Name",valueField:"Andrew"},{nameField:"Mobile",valueField:"1111111111111"},{nameField:"email",valueField:"test@mail.com"}],[{nameField:"Name",valueField:"Victoria"},{nameField:"Mobile",valueField:"33333333333"},{nameField:"email",valueField:"test@mail.com"}]],operationStack:[]},getters:{contacts:function(e){var t=e.contacts;return t},operationStack:function(e){var t=e.operationStack;return t}},mutations:{createContact:function(e,t){e.contacts.push(t)},deleteFieldContact:function(e,t){t.index?e.contacts[t.id].splice(t.index,1):e.contacts[t].pop()},addFieldContact:function(e,t){t.index&&!t.edit?e.contacts[t.id].splice(t.index,0,{nameField:t.nameField,valueField:t.valueField}):t.edit?e.contacts[t.id].splice(t.index,1,{nameField:t.nameField,valueField:t.valueField}):e.contacts[t.id].push({nameField:t.nameField,valueField:t.valueField})},deleteContact:function(e,t){e.contacts.splice(t,1)},changeFieldContact:function(e,t){var i=e.contacts[t.id][t.index];void 0!=t.nameField&&(i.nameField=t.nameField),i.valueField=t.valueField},setOperationStack:function(e,t){e.operationStack.push(t)}}});n["a"].use(F["a"]);var X=new F["a"].Store({modules:{contact:W}});n["a"].config.productionTip=!1,new n["a"]({router:U,store:X,render:function(e){return e(r)}}).$mount("#app")},6145:function(e,t,i){},7717:function(e,t,i){"use strict";var n=i("6145"),a=i.n(n);a.a},"808c":function(e,t,i){"use strict";var n=i("07eb"),a=i.n(n);a.a},"85ec":function(e,t,i){},a64a:function(e,t,i){},ac20:function(e,t,i){"use strict";var n=i("1aa3"),a=i.n(n);a.a},e189:function(e,t,i){"use strict";var n=i("14f1"),a=i.n(n);a.a}});
//# sourceMappingURL=app.36501cea.js.map